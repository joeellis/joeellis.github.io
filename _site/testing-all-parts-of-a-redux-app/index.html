<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width initial-scale=1"> <title>Testing All Parts of a Redux App | joeellis.la</title> <meta property="og:title" content="Testing All Parts of a Redux App"/> <meta name="author" content="Joe Ellis"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="Testing"/> <meta property="og:description" content="Testing"/> <link rel="canonical" href="http://localhost:4000/testing-all-parts-of-a-redux-app/"/> <meta property="og:url" content="http://localhost:4000/testing-all-parts-of-a-redux-app/"/> <meta property="og:site_name" content="joeellis.la"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2017-06-13T17:38:28-05:00"/> <meta name="twitter:card" content="summary"/> <meta name="twitter:site" content="@notjoellis"/> <meta name="twitter:creator" content="@Joe Ellis"/> <script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Testing All Parts of a Redux App","author":{"@type":"Person","name":"Joe Ellis"},"datePublished":"2017-06-13T17:38:28-05:00","dateModified":"2017-06-13T17:38:28-05:00","description":"Testing","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/avatar.png"},"name":"Joe Ellis"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/testing-all-parts-of-a-redux-app/"},"url":"http://localhost:4000/testing-all-parts-of-a-redux-app/"}</script> <link rel="stylesheet" href="/css/main.css"> <link rel="alternate" type="application/atom+xml" title="joeellis.la" href="http://localhost:4000/feed.xml"/> <link rel="canonical" href="http://localhost:4000/testing-all-parts-of-a-redux-app/"> <link href="https://fonts.googleapis.com/css?family=Droid+Serif|PT+Sans" rel="stylesheet"> <meta content="Tech musings on all things Elixir, Ruby, and Javascript." property="description"> <meta property="og:image" content="http://localhost:4000/assets/images/avatar.png"> <meta name="twitter:title" content="Testing All Parts of a Redux App"> <meta name="twitter:description" content="Tech musings on all things Elixir, Ruby, and Javascript."> <meta name="twitter:image" content="http://localhost:4000/assets/images/avatar.png"> </head> <body> <div class="site-container"> <div class="wrapper"> <a class="rss-link" href="/feed.xml"> <i class="fa fa-rss" aria-hidden="true"></i> </a> <div class="page-content"> <div class="header-intro"> <div class="intro-details"> <div class="intro-photo"> <a href="http://localhost:4000"> <img class="avatar-photo" src="/assets/images/avatar.png" width="55" height="55"/> </a> </div> <p class="intro-description"> <a href="http://localhost:4000">My name is Joe Ellis and I am a full stack developer in New Orleans, interested all things Elixir, Ruby, and Javascript.</a> </p> </div> </div> <hr/> <div class="post"> <header class="post-header"> <h1 class="post-title">Testing All Parts of a Redux App</h1> <p class="post-meta">June 13, 2017</p> </header> <article class="post-content"> <h3 id="testing">Testing</h3> <p>Testing in React right now is very interesting and still changing. As of the time of this writing, I’ve found these strategies have helped quite a bit:</p> <h5 id="shallow-vs-mount-rendering">Shallow vs Mount Rendering</h5> <p>React has two ways to render a component within a test:</p> <ul> <li>Shallow rendering - React will render the component in its own virtual DOM, and only render it one-level deep (meaning just the component itself, no children).</li> <li>Mount rendering - React will render a component and mount it onto some kind of DOM, like <code class="highlighter-rouge">jsdom</code>. It will render the component, as well as all of the component’s children.</li> </ul> <p>For unit tests, prefer to shallow render components as much as possible. It’s not only far faster method than mounting (as it only uses React’s virtual DOM), but it ensures the component is rendered independent from other components. There is one exception to this rule though, which is that shallow rendering does not currently support <code class="highlighter-rouge">refs</code>, so you will need to mount components where you need to test a <code class="highlighter-rouge">refs</code> property.</p> <p>Please do note that fully rendering a component is still useful, especially if you are attempting to do a fuller end-to-end type integration test for your apps. It’s unlikely though that these will make up the majority of your test suite though.</p> <h5 id="use-enzyme">Use Enzyme</h5> <p>Airbnb has a fantastic library called <a href="https://github.com/airbnb/enzyme"><code class="highlighter-rouge">enzyme</code></a> that provides a far better API than React’s TestUtils for dealing with and accessing component properties during testing. I personally am not a fan of using external packages when I can help it, but <code class="highlighter-rouge">enzyme</code> is a must-have for any of the React projects I work on.</p> <h5 id="promises">Promises</h5> <h5 id="testing-actions">Testing Actions</h5> <p>When testing actions, you can use a mock store (<a href="https://github.com/arnaudbenard/redux-mock-store">like this one</a>) to dispatch actions and test against the end result. Combined with an http mocking library like <a href="https://github.com/node-nock/nock">nock</a>, you can create some really great functional tests for whatever combination of test cases you can think of.</p> </article> <hr> <div class="question"> <a class="twitter-follow-button" href="https://twitter.com/notjoeellis" data-show-count="true" data-size="large"> Follow @notjoeellis </a> <script type="text/javascript">window.twttr=function(t,e,r){var n,i,w=t.getElementsByTagName(e)[0];if(!t.getElementById(r))return i=t.createElement(e),i.id=r,i.src="https://platform.twitter.com/widgets.js",w.parentNode.insertBefore(i,w),window.twttr||(n={_e:[],ready:function(t){n._e.push(t)}})}(document,"script","twitter-wjs");</script> </div> </div> </div> <footer class="site-footer"> <p class="small">joeellis.la &copy; 2017</p> </footer> </div> </div> </body> <script>!function(e,t,a,n,c,s,o){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,s=t.createElement(a),o=t.getElementsByTagName(a)[0],s.async=1,s.src=n,o.parentNode.insertBefore(s,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-99074897-1","auto"),ga("send","pageview");</script> </html>
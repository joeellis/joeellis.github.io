<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width initial-scale=1"> <title>Testing Redux: Async Action Creators | joeellis.la</title> <meta property="og:title" content="Testing Redux: Async Action Creators"/> <meta name="author" content="Joe Ellis"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="Async action creators are easier to test than you think."/> <meta property="og:description" content="Async action creators are easier to test than you think."/> <link rel="canonical" href="http://joeellis.la/testing-redux-actions/"/> <meta property="og:url" content="http://joeellis.la/testing-redux-actions/"/> <meta property="og:site_name" content="joeellis.la"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2017-07-05T00:00:00-05:00"/> <meta name="twitter:card" content="summary"/> <meta name="twitter:site" content="@notjoellis"/> <meta name="twitter:creator" content="@Joe Ellis"/> <script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Testing Redux: Async Action Creators","author":{"@type":"Person","name":"Joe Ellis"},"datePublished":"2017-07-05T00:00:00-05:00","dateModified":"2017-07-05T00:00:00-05:00","description":"Async action creators are easier to test than you think.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://joeellis.la/assets/images/avatar.png"},"name":"Joe Ellis"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://joeellis.la/testing-redux-actions/"},"url":"http://joeellis.la/testing-redux-actions/"}</script> <link rel="stylesheet" href="/css/main.css"> <link rel="alternate" type="application/atom+xml" title="joeellis.la" href="http://joeellis.la/feed.xml"/> <link rel="canonical" href="http://joeellis.la/testing-redux-actions/"> <link href="https://fonts.googleapis.com/css?family=Droid+Serif|Nunito|Oswald|PT+Sans|Roboto|Roboto+Condensed|Roboto+Slab|Ubuntu" rel="stylesheet"> <meta content="Async action creators are easier to test than you think." property="description"> <meta property="og:image" content="http://joeellis.la/assets/images/avatar.png"> <meta property="article:tag" content="react"> <meta property="article:tag" content="redux"> <meta property="article:tag" content="testing"> <meta name="twitter:title" content="Testing Redux: Async Action Creators"> <meta name="twitter:description" content="Async action creators are easier to test than you think."> <meta name="twitter:image" content="http://joeellis.la/assets/images/avatar.png"> </head> <body> <div class="header-container"> <nav class="site-nav"> <div class="trigger"> <a class="page-link" href="/feed.xml">RSS</a> </div> </nav> </div> <div class="wrapper"> <div class="page-content"> <div class="header-intro"> <div class="intro-details"> <div class="intro-photo"> <a href="http://joeellis.la"> <img class="avatar-photo" src="/assets/images/avatar.png" width="55" height="55"/> </a> </div> <p class="intro-description"> <a href="http://joeellis.la">My name is Joe Ellis and I am a full stack developer in New Orleans, interested all things Elixir, Ruby, and Javascript.</a> </p> </div> </div> <hr/> <div class="post"> <header class="post-header"> <h1 class="post-title">Testing Redux: Async Action Creators</h1> <p class="post-meta">July 5, 2017</p> </header> <article class="post-content"> <p>One of the biggest (and often overlooked) advantages of Redux apps is how inherently testable they are. Redux apps are composed of mostly plain old JavaScript objects and functions, so testing rarely requires special tricks or methods.</p> <p>And probably the most valuable tests you can write for a Redux app are action creator tests. Actions tend to collect most of the messy, complex code in a Redux app, and learning how to test them well can make future maintenance and refactoring easier for you and your team.</p> <p>In this article, I’ll explain the pattern I use for testing Redux actions (<a href="http://redux.js.org/docs/advanced/AsyncActions.html#async-action-creators">asynchronous action creators</a> in particular) and hopefully show that testing even complex actions can be pretty easy!</p> <h3 id="the-setup">The Setup</h3> <h4 id="packages-to-install">Packages to install</h4> <p>For action testing, I use the following packages:</p> <ul> <li><a href="https://github.com/mochajs/mocha"><code class="highlighter-rouge">mocha</code></a> - my JS testing framework of choice. If you don’t use <code class="highlighter-rouge">mocha</code>, however, keep reading - the strategies in this article are not <code class="highlighter-rouge">mocha</code> specific and can work with any JS testing framework.</li> <li><a href="https://github.com/node-nock/nock"><code class="highlighter-rouge">nock</code></a> - an HTTP mocking library. This is only used if your app is making HTTP requests (but at some point, your app probably will).</li> <li><a href="http://arnaudbenard.com/redux-mock-store/"><code class="highlighter-rouge">redux-mock-store</code></a> - a simple, but effective Redux store mock.</li> </ul> <h4 id="configuring-nock">Configuring nock</h4> <p>I usually create a base <code class="highlighter-rouge">nock</code> setup file in my app that I can import when needed. It looks something like this:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">import</span> <span class="nx">nock</span> <span class="nx">from</span> <span class="s1">'nock'</span><span class="p">;</span>

<span class="nx">nock</span><span class="p">.</span><span class="nx">disableNetConnect</span><span class="p">();</span>

<span class="c1">// Configure the base url to your endpoint here</span>
<span class="kr">export</span> <span class="k">default</span> <span class="nx">nock</span><span class="p">(</span><span class="s2">"http://localhost/api/"</span><span class="p">);</span></code></pre></figure> <p>I recommend adding <code class="highlighter-rouge">nock.disableNetConnect()</code> as it will force disable all non-mocked HTTP requests during your test. This ensures your tests won’t accidentally hit a real API endpoint during a test run, a bad practice that is both dangerous and slow.</p> <h3 id="an-example-action-creator">An Example Action Creator</h3> <p>Let’s start with a look at a real world example, this set of action creators for fetching users from an API endpoint:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">fetchUsersRequest</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">Actions</span><span class="p">.</span><span class="nx">FETCH_USERS_REQUEST</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">fetchUsersSuccess</span> <span class="o">=</span> <span class="p">(</span><span class="nx">users</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Actions</span><span class="p">.</span><span class="nx">FETCH_USERS_SUCCESS</span><span class="p">,</span>
    <span class="na">payload</span><span class="p">:</span> <span class="p">{</span> <span class="nx">users</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">fetchUsersFailure</span> <span class="o">=</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Actions</span><span class="p">.</span><span class="nx">FETCH_USERS_FAILURE</span><span class="p">,</span>
    <span class="na">payload</span><span class="p">:</span> <span class="nx">err</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">fetchUsers</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">dispatch</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">dispatch</span><span class="p">(</span><span class="nx">fetchUsersRequest</span><span class="p">());</span>

    <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">"/users"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(({</span> <span class="nx">users</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">dispatch</span><span class="p">(</span><span class="nx">fetchUsersSuccess</span><span class="p">(</span><span class="nx">users</span><span class="p">));</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">dispatch</span><span class="p">(</span><span class="nx">fetchUsersFailure</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure> <p>Here, <code class="highlighter-rouge">fetchUsers</code> is the main action creator we want to test. When executed, it will send an HTTP request to the API, and dispatch two out of these three actions:</p> <ul> <li><code class="highlighter-rouge">fetchUsersRequest</code> - an action used to represent a request in progress (handy if your UI needs to show some kind of loading state)</li> <li><code class="highlighter-rouge">fetchUsersSuccess</code> - an action that fires if the API call succeeds</li> <li><code class="highlighter-rouge">fetchUsersFailure</code> - an action that fires if the API call fails</li> </ul> <p>We want our test to check that these action creators are all invoked in the correct order, with the correct data, for both successful and unsuccessful API calls. To do this, we’ll do the following:</p> <ol> <li>Setup a mock response for our HTTP API endpoint. If the action makes a request to <code class="highlighter-rouge">/users/123</code>, then we should make sure it hits our <code class="highlighter-rouge">nock</code> server and have <code class="highlighter-rouge">nock</code> return a mock response that we can control and test against.</li> <li>Setup an ordered array of the actions we expect our action creator to dispatch and send to the reducers.</li> <li>Dispatch the action creator function, assert it received our mock data, and assert it called all of our expected actions in the correct order.</li> </ol> <h3 id="testing-the-happy-path">Testing The Happy Path</h3> <p>Given the strategy above, here is what testing the success path of <code class="highlighter-rouge">fetchUsers</code> might look like:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">import</span> <span class="nx">assert</span> <span class="nx">from</span> <span class="s2">"assert"</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">mockStore</span> <span class="nx">from</span> <span class="s2">"redux-mock-store"</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">nock</span> <span class="nx">from</span> <span class="s2">"../path/to/nockSetup"</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">Constants</span> <span class="nx">from</span> <span class="s2">"../path/to/Constants"</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">fetchUsers</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"../path/to/UserActions"</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">"UserActions"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">store</span> <span class="o">=</span> <span class="nx">mockStore</span><span class="p">({});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span><span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="p">];</span>
  <span class="p">});</span>

  <span class="nx">context</span><span class="p">(</span><span class="s2">"#fetchUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">"can fetch users from the api"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">nock</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"/users"</span><span class="p">).</span><span class="nx">reply</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span><span class="p">);</span>

      <span class="kr">const</span> <span class="nx">expectedActions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">type</span><span class="p">:</span> <span class="nx">Constants</span><span class="p">.</span><span class="nx">FETCH_USERS_REQUEST</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">type</span><span class="p">:</span> <span class="nx">Constants</span><span class="p">.</span><span class="nx">FETCH_USERS_SUCCESS</span><span class="p">,</span>
          <span class="na">payload</span><span class="p">:</span> <span class="p">{</span> <span class="na">users</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span> <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">];</span>

      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">store</span>
        <span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">fetchUsers</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">store</span><span class="p">.</span><span class="nx">getActions</span><span class="p">(),</span> <span class="nx">expectedActions</span><span class="p">)</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">throw</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
        <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span></code></pre></figure> <p>Let’s break this test down into the important parts:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">store</span> <span class="o">=</span> <span class="nx">mockStore</span><span class="p">({});</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span><span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="p">];</span>
<span class="p">});</span></code></pre></figure> <p>Here, we setup both our mock store and some fake data that we’ll use later for our mock HTTP response.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">context</span><span class="p">(</span><span class="s2">"#fetchUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">it</span><span class="p">(</span><span class="s2">"can fetch users from the api"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">nock</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"/users"</span><span class="p">).</span><span class="nx">reply</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span><span class="p">);</span>
    <span class="p">...</span></code></pre></figure> <p>Next, we use <code class="highlighter-rouge">nock</code> to create a mock HTTP route for our Redux app to hit. This will return back our mock user data (<code class="highlighter-rouge">this.usersData</code>) whenever a successful GET request is made to the <code class="highlighter-rouge">/users</code> route.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">...</span>
<span class="kr">const</span> <span class="nx">expectedActions</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Constants</span><span class="p">.</span><span class="nx">FETCH_USERS_REQUEST</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Constants</span><span class="p">.</span><span class="nx">FETCH_USERS_SUCCESS</span><span class="p">,</span>
    <span class="na">payload</span><span class="p">:</span> <span class="p">{</span> <span class="na">users</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">];</span>
<span class="p">...</span></code></pre></figure> <p>Then we create an <code class="highlighter-rouge">expectedActions</code> array, an array of the actions we expect to be dispatched in the order we expect them to be dispatched in. The first object is the action created when <code class="highlighter-rouge">fetchUsersRequest</code> is invoked, and the second object is the action created when <code class="highlighter-rouge">fetchUsersSuccess</code> is invoked. Note: the <code class="highlighter-rouge">expectedActions</code> array here does not contain the action for <code class="highlighter-rouge">fetchUsersFailure</code> as we are only testing the success path right now.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">...</span>
<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">store</span>
  <span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">fetchUsers</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">store</span><span class="p">.</span><span class="nx">getActions</span><span class="p">(),</span> <span class="nx">expectedActions</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">throw</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
  <span class="p">});</span>
<span class="p">...</span></code></pre></figure> <p>Finally, we kick off the test by dispatching our <code class="highlighter-rouge">fetchUsers</code> action creator using our mock store’s <code class="highlighter-rouge">dispatch</code> function. <code class="highlighter-rouge">redux-mock-store</code> comes with a handy <code class="highlighter-rouge">store.getActions</code> function, so we can see which actions were called, and make sure it equals our <code class="highlighter-rouge">expectedActions</code> array.</p> <h3 id="testing-the-not-so-happy-path">Testing The Not So Happy Path</h3> <p>We should also test that our action creators handle errors appropriately. Here is what testing the failure path of <code class="highlighter-rouge">fetchUsers</code> might look like:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">...</span>

<span class="nx">it</span><span class="p">(</span><span class="s2">"handle errors when fetching users from the api"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">nock</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"/users"</span><span class="p">).</span><span class="nx">reply</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">usersData</span><span class="p">);</span>

  <span class="kr">const</span> <span class="nx">expectedActions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="nx">Constants</span><span class="p">.</span><span class="nx">FETCH_USERS_REQUEST</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="nx">Constants</span><span class="p">.</span><span class="nx">FETCH_USERS_FAILURE</span><span class="p">,</span>
      <span class="na">payload</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">()</span>
    <span class="p">}</span>
  <span class="p">];</span>

  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">store</span>
    <span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="nx">fetchUsers</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">throw</span><span class="p">(</span><span class="s2">"This test should not have succeeded."</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">store</span><span class="p">.</span><span class="nx">getActions</span><span class="p">(),</span> <span class="nx">expectedActions</span><span class="p">)</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="p">...</span></code></pre></figure> <p>It has a very similar structure to the success test above. The main difference is our HTTP request mock now replies with a HTTP <code class="highlighter-rouge">500</code> status code (used for internal server errors) and our <code class="highlighter-rouge">expectedActions</code> array includes the results from the <code class="highlighter-rouge">fetchUsersFailure</code> action creator. Also, we run our <code class="highlighter-rouge">assert</code> in the <code class="highlighter-rouge">catch</code> portion of our promise (as we expect a failure here), and we throw an error in the success path in case our action creator incorrectly manages to succeed.</p> <p>And that’s it! You just learned how to fully test an async action creator for a Redux app</p> <h3 id="conclusion">Conclusion</h3> <p>With this testing strategy, even as your action creators become more complex, the testing strategy itself stays the same. They still follow the same pattern of creating a mock HTTP response, creating a list of expected actions, and comparing both to the result of the action creator function call. I recommend giving this testing strategy a try, especially if you’ve never tested your Redux actions before - I think you’ll find them to be invaluable addition to your Redux app.</p> </article> <hr> <div class="question"> <a class="twitter-follow-button" href="https://twitter.com/notjoeellis" data-show-count="true" data-size="large"> Follow @notjoeellis </a> <script type="text/javascript">window.twttr=function(t,e,r){var n,i,w=t.getElementsByTagName(e)[0];if(!t.getElementById(r))return i=t.createElement(e),i.id=r,i.src="https://platform.twitter.com/widgets.js",w.parentNode.insertBefore(i,w),window.twttr||(n={_e:[],ready:function(t){n._e.push(t)}})}(document,"script","twitter-wjs");</script> </div> </div> </div> <footer class="site-footer"> <p class="small">joeellis.la &copy; 2017</p> </footer> </div> </body> <script>!function(e,t,a,n,c,s,o){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,s=t.createElement(a),o=t.getElementsByTagName(a)[0],s.async=1,s.src=n,o.parentNode.insertBefore(s,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-99074897-1","auto"),ga("send","pageview");</script> </html>